<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <title>Patient Follow-Up Portal</title>
  <meta name="author" content="Author: Dr. Navavidha Kale; Software Design: Pulkit Joshi" />
  <link rel="stylesheet" href="css/styles.css"/>

  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0b5fff">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <script>
    // Register Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js');
      });
    }
  </script>

</head>
<body class="app-body">

  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="icon-home" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 3.172 4.5 9.086V20a1 1 0 0 0 1 1H10v-6h4v6h4.5a1 1 0 0 0 1-1V9.086L12 3.172Z"/>
    </symbol>
    <symbol id="icon-info" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20Zm.75 15.5v-6h-1.5v6h1.5Zm0-8.5v-2h-1.5v2h1.5Z"/>
    </symbol>
    <symbol id="icon-menu" viewBox="0 0 24 24" fill="currentColor">
      <path d="M4 6.75A1.25 1.25 0 0 1 5.25 5.5h13.5a1.25 1.25 0 1 1 0 2.5H5.25A1.25 1.25 0 0 1 4 6.75Zm0 5.25A1.25 1.25 0 0 1 5.25 10.5h13.5a1.25 1.25 0 1 1 0 2.5H5.25A1.25 1.25 0 0 1 4 12Zm0 5.25a1.25 1.25 0 0 1 1.25-1.25h13.5a1.25 1.25 0 1 1 0 2.5H5.25A1.25 1.25 0 0 1 4 17.25Z"/>
    </symbol>
    <symbol id="icon-lock" viewBox="0 0 24 24" fill="currentColor">
      <path d="M17 10h-1V7a4 4 0 0 0-8 0v3H7a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1Zm-5 6a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm-3-6V7a2 2 0 1 1 4 0v3h-4Z"/>
    </symbol>
    <symbol id="icon-user" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm0 2c-3.866 0-7 2.239-7 5v1h14v-1c0-2.761-3.134-5-7-5Z"/>
    </symbol>
    <symbol id="icon-tag" viewBox="0 0 24 24" fill="currentColor">
      <path d="M4 3h6a1 1 0 0 1 .707.293l8 8a1 1 0 0 1 0 1.414l-6.586 6.586a1 1 0 0 1-1.414 0l-8-8A1 1 0 0 1 2.5 10V4a1 1 0 0 1 1-1Zm2 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"/>
    </symbol>
    <symbol id="icon-id-card" viewBox="0 0 24 24" fill="currentColor">
      <path d="M6 3h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm6 6v2h6V9h-6Zm0 4v2h6v-2h-6Zm-4-4.5a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Zm3 5.5a2 2 0 0 0-4 0v1h4v-1Z"/>
    </symbol>
    <symbol id="icon-phone" viewBox="0 0 24 24" fill="currentColor">
      <path d="M7.5 1.5A2.25 2.25 0 0 0 5.25 3.75v16.5A2.25 2.25 0 0 0 7.5 22.5h9a2.25 2.25 0 0 0 2.25-2.25V3.75A2.25 2.25 0 0 0 16.5 1.5h-9Zm4.5 18a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Zm3-15H9a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5Z"/>
    </symbol>
    <symbol id="icon-mail" viewBox="0 0 24 24" fill="currentColor">
      <path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Zm0 2v.217l7 5.25 7-5.25V5H5Zm14 3.383-6.445 4.83a1 1 0 0 1-1.11 0L5 8.383V19h14V8.383Z"/>
    </symbol>
    <symbol id="icon-bell" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 2a6 6 0 0 0-6 6v2.586a2 2 0 0 1-.586 1.414L4 13.414V16h16v-2.586l-1.414-1.414A2 2 0 0 1 18 10.586V8a6 6 0 0 0-6-6Zm0 20a3 3 0 0 0 3-3H9a3 3 0 0 0 3 3Z"/>
    </symbol>
    <symbol id="icon-check" viewBox="0 0 24 24" fill="currentColor">
      <path d="M20.285 6.708a1 1 0 0 1 .007 1.414l-9.193 9.25a1 1 0 0 1-1.428.01l-4.957-4.9a1 1 0 0 1 1.407-1.424l4.246 4.198 8.486-8.532a1 1 0 0 1 1.432-.016Z"/>
    </symbol>
    <symbol id="icon-plus" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 4a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2h-6v6a1 1 0 1 1-2 0v-6H5a1 1 0 0 1 0-2h6V5a1 1 0 0 1 1-1Z"/>
    </symbol>
    <symbol id="icon-book" viewBox="0 0 24 24" fill="currentColor">
      <path d="M5 3a3 3 0 0 0-3 3v12a2 2 0 0 0 2 2h7a3 3 0 0 1 3 3V6a3 3 0 0 0-3-3H5Zm9 0v17.17A3.001 3.001 0 0 1 16 19h5a1 1 0 0 0 1-1V5a2 2 0 0 0-2-2h-6Z"/>
    </symbol>
    <symbol id="icon-x" viewBox="0 0 24 24" fill="currentColor">
      <path d="M6.343 5.929a1 1 0 0 1 1.414-1.414L12 8.757l4.243-4.242a1 1 0 0 1 1.414 1.414L13.414 10.17l4.243 4.243a1 1 0 1 1-1.414 1.414L12 11.586l-4.243 4.242a1 1 0 0 1-1.414-1.414l4.243-4.242-4.243-4.242Z"/>
    </symbol>
    <symbol id="icon-calendar" viewBox="0 0 24 24" fill="currentColor">
      <path d="M7 2a1 1 0 0 1 1 1v1h8V3a1 1 0 1 1 2 0v1h1a3 3 0 0 1 3 3v13a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h1V3a1 1 0 0 1 1-1Zm12 7H5v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9Zm-4 3a1 1 0 0 1 0 2h-2a1 1 0 1 1 0-2h2ZM5 7h14V6a1 1 0 0 0-1-1h-1v1a1 1 0 1 1-2 0V5H8v1a1 1 0 0 1-2 0V5H5a1 1 0 0 0-1 1v1Z"/>
    </symbol>
    <symbol id="icon-user-plus" viewBox="0 0 24 24" fill="currentColor">
      <path d="M14 4a4 4 0 0 1 1 7.874V12a1 1 0 0 1-2 0v-.126A4 4 0 1 1 14 4Zm-7 4h2V6a1 1 0 0 1 2 0v2h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0V8H7a1 1 0 0 1 0-2Zm8 8c2.761 0 5 1.791 5 4v1h-8v-1c0-2.209 2.239-4 5-4Zm-6.5-2c2.485 0 4.5 1.79 4.5 4v1H5v-1c0-2.21 2.015-4 4.5-4Z"/>
    </symbol>
    <symbol id="icon-sun" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 6.25a5.75 5.75 0 1 1 0 11.5 5.75 5.75 0 0 1 0-11.5Zm0-4.25a1 1 0 0 1 1 1v1.5a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1Zm0 18.75a1 1 0 0 1 1 1V22a1 1 0 1 1-2 0v-1.25a1 1 0 0 1 1-1Zm9.75-7.75a1 1 0 0 1-1 1H19a1 1 0 1 1 0-2h1.75a1 1 0 0 1 1 1Zm-15.5 0a1 1 0 0 1-1 1H3a1 1 0 1 1 0-2h2.25a1 1 0 0 1 1 1Zm12.137-6.637a1 1 0 0 1 0 1.414l-1.06 1.06a1 1 0 1 1-1.414-1.414l1.06-1.06a1 1 0 0 1 1.414 0Zm-10.754 10.754a1 1 0 0 1 0 1.414l-1.06 1.06A1 1 0 0 1 4.66 17.16l1.06-1.06a1 1 0 0 1 1.414 0Zm10.754 1.414-1.06-1.06a1 1 0 1 1 1.414-1.415l1.06 1.06a1 1 0 0 1-1.414 1.415ZM6.734 5.734a1 1 0 0 1 1.414 0l1.06 1.06A1 1 0 1 1 7.794 8.21l-1.06-1.06a1 1 0 0 1 0-1.414Z"/>
    </symbol>
    <symbol id="icon-moon" viewBox="0 0 24 24" fill="currentColor">
      <path d="M11.086 2.103a1 1 0 0 1 .982 1.247 8.5 8.5 0 0 0 10.582 10.582 1 1 0 0 1 1.247.982A10.5 10.5 0 1 1 10.104 2.086a1 1 0 0 1 .982.017ZM6.5 12a8.5 8.5 0 0 0 14.066 6.541A10.5 10.5 0 0 1 11.46 7.434 8.469 8.469 0 0 0 6.5 12Z"/>
    </symbol>
  </svg>

  <div class="app-shell">
    <div class="app-status-bar" aria-hidden="true">
      <span class="status-time">09:41</span>
      <div class="status-icons" aria-hidden="true">
        <span class="status-indicator status-signal"></span>
        <span class="status-indicator status-wifi"></span>
        <span class="status-indicator status-battery"></span>
      </div>
    </div>
    <div class="app-scroll">
      <section class="app-toolbar card" aria-label="App header">
        <div class="app-brand">
          <img src="assets/images/pgimer_logo.jpeg" alt="PGIMER logo" class="app-logo"/>
          <div class="app-brand-copy">
          <span class="app-overline" data-i18n="app.overline">OMFS, PGIMER</span>
            <h1 class="app-title" data-i18n="app.title">Patient Follow-up Portal</h1>
            <p class="app-subtitle" data-i18n="app.subtitle">Oral &amp; Maxillofacial Surgery · PGIMER, Chandigarh</p>
          </div>
        </div>
        <div class="app-controls">
          <div class="language-toggle" id="language-toggle" role="group" aria-label="Interface language" data-i18n-aria-label="languageToggle.ariaLabel">
            <button type="button" class="lang-btn active" data-lang="en" aria-pressed="true">EN</button>
            <button type="button" class="lang-btn" data-lang="hi" aria-pressed="false">हि</button>
            <button type="button" class="lang-btn" data-lang="pa" aria-pressed="false">ਪੰ</button>
          </div>
          <button class="theme-toggle" id="theme-toggle" type="button" aria-label="Toggle theme">
            <svg class="ico theme-icon" aria-hidden="true"><use href="#icon-sun"/></svg>
          </button>
        </div>
      </section>

      <div class="app-pad">
        <main class="app-main container">
    <section class="hero card app-hero" id="hero-section">
      <div class="hero-grid">
        <div class="hero-copy">
          <span class="eyebrow" data-i18n="hero.eyebrow">Specialty Follow-up Care</span>
          <h2 data-i18n="hero.heading">Continuity of care for Oral &amp; Maxillofacial Surgery patients</h2>
          <p data-i18n="hero.subheading">OMFS, PGIMER keeps surgeons and patients aligned with secure follow-ups, structured timelines, and informed recovery guidance.</p>
          <div class="hero-actions">
            <a href="#auth-section" class="btn primary" id="hero-login" data-i18n="hero.loginCta">Login</a>
            <a href="#about" class="btn ghost" id="hero-learn" data-i18n="hero.exploreCta">Explore features</a>
          </div>
          <ul class="hero-highlights">
            <li data-i18n="hero.highlight1">Secure doctor-patient communication</li>
            <li data-i18n="hero.highlight2">Structured treatment tracking</li>
            <li data-i18n="hero.highlight3">Photo and document sharing</li>
          </ul>
        </div>
        <div class="hero-visual">
          <div class="hero-slider" id="hero-slider">
            <div class="hero-slide active">
              <div class="hero-slide-image hero-slide-one">
                <img src="assets/images/hero-hospital-wing.png" alt="Modern hospital wing exterior"/>
              </div>
              <div class="hero-slide-caption">
                <span class="badge" data-i18n="hero.slide1.badge">Post-operative Care</span>
                <p data-i18n="hero.slide1.text">Coordinate discharge follow-ups with dedicated care pathways.</p>
              </div>
            </div>
            <div class="hero-slide">
              <div class="hero-slide-image hero-slide-two">
                <img src="assets/images/hero-outpatient-clinic.png" alt="Outpatient clinic reception area"/>
              </div>
              <div class="hero-slide-caption">
                <span class="badge" data-i18n="hero.slide2.badge">Clinic Workflow</span>
                <p data-i18n="hero.slide2.text">Streamline multi-visit timelines with shared patient dashboards.</p>
              </div>
            </div>
            <div class="hero-slide">
              <div class="hero-slide-image hero-slide-three">
                <img src="assets/images/hero-patient-counseling.png" alt="Clinician offering counseling to a patient"/>
              </div>
              <div class="hero-slide-caption">
                <span class="badge" data-i18n="hero.slide3.badge">Patient Experience</span>
                <p data-i18n="hero.slide3.text">Provide guided check-ins and education between appointments.</p>
              </div>
            </div>
          </div>
          <div class="hero-dots" id="hero-dots"></div>
        </div>
      </div>
    </section>

    <section class="card auth-card" id="auth-section">
      <div class="tabs" role="tablist" aria-label="Authentication">
        <button class="tab active" id="tab-login" type="button" role="tab" aria-selected="true" tabindex="0" aria-controls="login-panel"><svg class="ico" aria-hidden="true"><use href="#icon-lock"/></svg> <span data-i18n="auth.loginTab">Login</span></button>
        <button class="tab" id="tab-signup" type="button" role="tab" aria-selected="false" tabindex="-1" aria-controls="signup-panel"><svg class="ico" aria-hidden="true"><use href="#icon-user-plus"/></svg> <span data-i18n="auth.signupTab">Sign up</span></button>
      </div>

      <!-- Login Panel -->
      <div id="login-panel" class="panel active" role="tabpanel" aria-labelledby="tab-login">
        <form id="login-form">
          <label>
            <span class="lbl" data-i18n="login.identifierLabel">Patient ID / Employee ID / Email</span>
            <div class="input-icon">
              <svg class="ico" aria-hidden="true"><use href="#icon-user"/></svg>
              <input type="text" id="login-identifier" required placeholder="e.g. P12345 or EMP456 or user@example.com" data-i18n-placeholder="login.identifierPlaceholder"/>
            </div>
          </label>
          <label>
            <span class="lbl" data-i18n="login.passwordLabel">Password</span>
            <div class="input-icon">
              <svg class="ico" aria-hidden="true"><use href="#icon-lock"/></svg>
              <input type="password" id="login-password" required data-i18n-placeholder="login.passwordPlaceholder"/>
            </div>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" id="login-remember"/>
            <span data-i18n="login.rememberLabel">Stay logged in on this device</span>
          </label>
          <button type="submit" class="btn primary" id="login-submit" data-i18n="login.submit">Login</button>
        </form>
      </div>

      <!-- Signup Panel -->
      <div id="signup-panel" class="panel" role="tabpanel" aria-labelledby="tab-signup" hidden>
        <form id="signup-form">
          <label>
            <span class="lbl"><span data-i18n="signup.categoryLabel">Category</span> <span class="req">*</span></span>
            <div class="input-icon">
              <svg class="ico" aria-hidden="true"><use href="#icon-tag"/></svg>
              <select id="su-category" required data-i18n-aria-label="signup.categoryLabel">
                <option value="" data-i18n="signup.categoryOption.select">Select</option>
                <option value="doctor" data-i18n="signup.categoryOption.doctor">Doctor</option>
                <option value="patient" data-i18n="signup.categoryOption.patient">Patient</option>
              </select>
            </div>
          </label>
          <label>
            <span class="lbl"><span data-i18n="signup.fullnameLabel">Full Name</span> <span class="req">*</span></span>
            <div class="input-icon">
              <svg class="ico" aria-hidden="true"><use href="#icon-user"/></svg>
              <input type="text" id="su-fullname" required placeholder="Full name" data-i18n-placeholder="signup.fullnamePlaceholder"/>
            </div>
          </label>
          <div id="doctor-fields" class="conditional hidden">
            <label>
              <span class="lbl"><span data-i18n="signup.employeeIdLabel">Employee ID</span> <span class="req">*</span></span>
              <div class="input-icon">
                <svg class="ico" aria-hidden="true"><use href="#icon-id-card"/></svg>
                <input type="text" id="su-employee-id" placeholder="e.g. EMP1234" disabled required data-i18n-placeholder="signup.employeeIdPlaceholder"/>
              </div>
            </label>
          </div>
          <div id="patient-fields" class="conditional hidden">
            <label>
              <span class="lbl"><span data-i18n="signup.assignedDoctorLabel">Assigned Doctor</span> <span class="req">*</span></span>
              <div class="input-icon">
                <svg class="ico" aria-hidden="true"><use href="#icon-user"/></svg>
                <select id="su-assigned-doctor" disabled required data-i18n-aria-label="signup.assignedDoctorLabel">
                  <option value="" data-i18n="signup.assignedDoctorOption">Select doctor</option>
                </select>
              </div>
            </label>
            <label>
              <span class="lbl"><span data-i18n="signup.doctorEmployeeIdLabel">Doctor Employee ID</span> <span class="req">*</span></span>
              <div class="input-icon">
                <svg class="ico" aria-hidden="true"><use href="#icon-id-card"/></svg>
                <input type="text" id="su-doctor-employee-id" placeholder="e.g. EMP1234" disabled required data-i18n-placeholder="signup.doctorEmployeeIdPlaceholder"/>
              </div>
            </label>
            <label>
              <span class="lbl"><span data-i18n="signup.patientIdLabel">Patient ID</span> <span class="req">*</span></span>
              <div class="input-icon">
                <svg class="ico" aria-hidden="true"><use href="#icon-id-card"/></svg>
                <input type="text" id="su-patient-id" placeholder="e.g. P12345" disabled required data-i18n-placeholder="signup.patientIdPlaceholder"/>
              </div>
            </label>
          </div>
          <div class="grid-2">
            <label>
              <span class="lbl"><span data-i18n="signup.phoneLabel">Phone Number</span> <span class="req">*</span></span>
              <div class="input-icon phone-input">
                <svg class="ico" aria-hidden="true"><use href="#icon-phone"/></svg>
                <select id="su-phone-country" class="phone-country" aria-label="Country code" required data-i18n-aria-label="signup.phoneCountryAria">
                  <option value="91" selected>India (+91)</option>
                </select>
                <input type="tel" id="su-phone" required placeholder="Phone number" data-i18n-placeholder="signup.phonePlaceholder"/>
              </div>
            </label>
            <label>
              <span class="lbl"><span data-i18n="signup.emailLabel">Email</span> <span class="req">*</span></span>
              <div class="input-icon">
                <svg class="ico" aria-hidden="true"><use href="#icon-mail"/></svg>
                <input type="email" id="su-email" required placeholder="name@example.com" data-i18n-placeholder="signup.emailPlaceholder"/>
              </div>
            </label>
          </div>
          <div class="grid-2">
            <label>
              <span class="lbl"><span data-i18n="signup.passwordLabel">Password</span> <span class="req">*</span></span>
              <div class="input-icon">
                <svg class="ico" aria-hidden="true"><use href="#icon-lock"/></svg>
                <input type="password" id="su-pass" required data-i18n-placeholder="signup.passwordPlaceholder"/>
              </div>
            </label>
            <label>
              <span class="lbl"><span data-i18n="signup.confirmPasswordLabel">Re-enter Password</span> <span class="req">*</span></span>
              <div class="input-icon">
                <svg class="ico" aria-hidden="true"><use href="#icon-check"/></svg>
                <input type="password" id="su-pass2" required data-i18n-placeholder="signup.confirmPasswordPlaceholder"/>
              </div>
            </label>
          </div>

          <button type="submit" class="btn primary" id="signup-submit" data-i18n="signup.submit">Create account</button>
        </form>
      </div>
    </section>

    <!-- Patient Dashboard -->
    <section id="patient-page" class="card hidden">
      <div class="doc-welcome patient-welcome">
        <div>
          <span class="eyebrow" data-i18n="patient.eyebrow">Patient workspace</span>
          <h3 id="pt-welcome-title" data-i18n="patient.welcomeTitle">Welcome back</h3>
          <p id="pt-welcome-subtitle" class="muted" data-i18n="patient.welcomeSubtitle">Stay connected with your care team.</p>
        </div>
        <div class="doc-header-actions pt-header-actions">
          <button type="button" class="btn icon-only notification-toggle" data-open-notifications="patient" aria-label="Notifications">
            <svg class="ico" aria-hidden="true"><use href="#icon-bell"/></svg>
            <span class="sr-only" data-i18n="notifications.title">Notifications</span>
          </button>
          <button id="pt-change-password" class="btn secondary small" data-i18n="patient.changePassword">Change password</button>
          <button id="logout-pt" class="btn danger small" data-i18n="patient.logout">Logout</button>
        </div>
      </div>

      <section class="card notifications-card" data-notifications-context="patient" aria-live="polite" aria-label="Patient notifications">
        <div class="notifications-card-head">
          <div>
            <h3 data-i18n="notifications.title">Notifications</h3>
            <p class="muted small" data-i18n="notifications.subtitle">Stay updated with patient and clinic activity.</p>
          </div>
          <div class="notifications-card-actions">
            <button type="button" class="btn secondary small" data-role="enable" data-i18n="notifications.enable">Enable push alerts</button>
            <button type="button" class="btn ghost small" data-role="mark-read" data-i18n="notifications.markAllRead">Mark all read</button>
          </div>
        </div>
        <div class="notifications-empty" data-role="empty" data-i18n="notifications.empty">You’re all caught up.</div>
        <ul class="notifications-list" data-role="list"></ul>
      </section>

      <div class="doc-summary patient-summary">
        <div id="pt-details" class="details doc-details"></div>
        <div class="details patient-history-card">
          <h4 data-i18n="patient.historyHeading">Medical History / Treatment</h4>
          <div id="pt-history" class="history-readonly"></div>
        </div>
      </div>

      <section class="patient-actions">
        <article class="patient-action-card">
          <div class="patient-action-header">
            <h4 data-i18n="patient.checkin.title">Today’s check-in</h4>
            <p class="muted" data-i18n="patient.checkin.lead">Takes 2–3 minutes. Your answers help your doctor.</p>
          </div>
          <div class="patient-action-body">
            <button id="btn-start-checkin" class="btn primary" data-i18n="patient.checkin.cta">Start check-in</button>
            <p id="checkin-status" class="small muted patient-action-status" aria-live="polite"></p>
          </div>
        </article>
        <article class="patient-action-card">
          <div class="patient-action-header">
            <h4 data-i18n="patient.photos.title">Healing photos</h4>
            <p class="muted" data-i18n="patient.photos.lead">Capture standardized views with on-screen guides.</p>
          </div>
          <div class="patient-action-body">
            <button id="btn-add-photo" class="btn" data-i18n="patient.photos.cta">Add photo</button>
            <div id="photo-strip" class="photo-strip" aria-live="polite" data-empty-text="No photos yet" data-i18n-attr="patient.photos.empty" data-i18n-attr-name="data-empty-text"></div>
          </div>
        </article>
      </section>

      <div class="patient-main">
        <section class="patient-timeline">
          <div id="pt-next-appointment" class="next-appointment-banner hidden" role="status" aria-live="polite"></div>
          <h4 data-i18n="patient.careHeading">Care Conversation</h4>
          <div id="pt-timeline" class="timeline"></div>
          <form id="pt-feedback-form" class="chat-composer patient-chat-composer">
            <input type="file" id="pt-feedback-file" accept="image/*" class="sr-only" aria-hidden="true"/>
            <div class="chat-attach-group">
              <button type="button" id="pt-feedback-attach" class="chat-attach-btn" aria-label="Upload a photo" title="Attach a photo to your update" data-i18n-aria-label="patient.chatAttachAria" data-i18n-title="patient.chatAttachTitle">
                <svg class="ico" aria-hidden="true"><use href="#icon-plus"/></svg>
              </button>
              <span class="microcopy" data-i18n="patient.chatAddPhoto">Add photo</span>
              <span id="pt-feedback-file-label" class="chat-attach-label hidden" aria-live="polite"></span>
              <button type="button" id="pt-feedback-clear" class="chat-attach-clear hidden" aria-label="Remove selected photo" title="Clear attached photo" data-i18n-aria-label="patient.chatClearAria" data-i18n-title="patient.chatClearTitle">
                <svg class="ico" aria-hidden="true"><use href="#icon-x"/></svg>
              </button>
            </div>
            <textarea id="pt-feedback-text" rows="2" placeholder="Share an update or ask a question..." aria-label="Message your care team" data-i18n-placeholder="patient.chatPlaceholder" data-i18n-aria-label="patient.chatAriaLabel"></textarea>
            <div class="composer-actions">
              <button type="submit" id="pt-feedback-send" class="btn primary small" title="Send your update" data-i18n="patient.chatSendLabel" data-i18n-title="patient.chatSendTitle">Send</button>
            </div>
          </form>
          <h4 data-i18n="patient.appointmentsHeading">Scheduled Appointments</h4>
          <div id="pt-appointments" class="timeline"></div>
        </section>
        <section class="patient-support">
          <h4 data-i18n="patient.support.heading">Care Support</h4>
          <div class="support-grid">
            <article class="support-card">
              <h5 data-i18n="patient.support.beforeHeading">Before your visit</h5>
              <ul>
                <li data-i18n="patient.support.beforeItem1">Note symptom changes and medication updates.</li>
                <li data-i18n="patient.support.beforeItem2">Photograph healing progress to share with your doctor.</li>
              </ul>
            </article>
            <article class="support-card">
              <h5 data-i18n="patient.support.emergencyHeading">Emergency?</h5>
              <p class="muted small" data-i18n="patient.support.emergencyCopy">In case of an emergency, please call your assigned doctor immediately.</p>
            </article>
            <article class="support-card">
              <h5 data-i18n="patient.support.resourcesHeading">Resources</h5>
              <ul>
                <li><a href="#resource-post-op" class="text-link" id="patient-link-post-op" data-i18n="patient.support.resourcePostOp">Post-operative care checklist</a></li>
                <li><a href="#resource-pain" class="text-link" id="patient-link-pain" data-i18n="patient.support.resourcePain">Pain management tips</a></li>
                <li><a href="#resource-emergency" class="text-link" id="patient-link-emergency" data-i18n="patient.support.resourceEmergency">Emergency guidance</a></li>
              </ul>
            </article>
          </div>
        </section>
      </div>
    </section>

    <!-- Doctor Dashboard -->
    <section id="doctor-page" class="card hidden">
      <div class="doc-welcome">
        <div>
          <span class="eyebrow">Doctor workspace</span>
          <h3 id="doc-welcome-title">Welcome back</h3>
          <p id="doc-welcome-subtitle" class="muted">Review your patients and stay on top of upcoming care.</p>
        </div>
        <div class="doc-header-actions">
          <button type="button" class="btn icon-only notification-toggle" data-open-notifications="doctor" aria-label="Notifications">
            <svg class="ico" aria-hidden="true"><use href="#icon-bell"/></svg>
            <span class="sr-only" data-i18n="notifications.title">Notifications</span>
          </button>
          <button id="doc-change-password" class="btn secondary small">Change password</button>
          <button id="logout-doc" class="btn danger small">Logout</button>
        </div>
      </div>

      <section class="card notifications-card" data-notifications-context="doctor" aria-live="polite" aria-label="Doctor notifications">
        <div class="notifications-card-head">
          <div>
            <h3 data-i18n="notifications.title">Notifications</h3>
            <p class="muted small" data-i18n="notifications.subtitle">Stay updated with patient and clinic activity.</p>
          </div>
          <div class="notifications-card-actions">
            <button type="button" class="btn secondary small" data-role="enable" data-i18n="notifications.enable">Enable push alerts</button>
            <button type="button" class="btn ghost small" data-role="mark-read" data-i18n="notifications.markAllRead">Mark all read</button>
          </div>
        </div>
        <div class="notifications-empty" data-role="empty" data-i18n="notifications.empty">You’re all caught up.</div>
        <ul class="notifications-list" data-role="list"></ul>
      </section>

      <div class="doc-summary">
        <div id="doc-details-card" class="details doc-details"></div>
        <div class="doc-kpis">
          <article class="kpi-card">
            <span class="kpi-label">Patients under care</span>
            <span class="kpi-value" id="kpi-patient-count">0</span>
          </article>
          <article class="kpi-card">
            <span class="kpi-label">Appointments scheduled</span>
            <span class="kpi-value" id="kpi-appointment-count">0</span>
            <div class="kpi-actions">
              <button type="button" id="kpi-view-appointments" class="btn ghost small">View details</button>
            </div>
          </article>
        </div>
        <div id="doc-insights" class="card doc-insights"></div>
        <div id="doc-appointments-summary" class="card hidden doc-appointments-inline"></div>
      </div>

      <div class="doc-main">
        <aside class="doc-patient-list">
          <div class="doc-patient-list-header">
            <h4>Assigned patients</h4>
            <p class="muted small">Only patients mapped to you are shown.</p>
          </div>
          <ul id="doc-patient-list" class="list"></ul>
        </aside>
        <section class="doc-patient-panel">
          <div id="doc-patient-placeholder" class="placeholder muted">Select a patient from the list to view their profile.</div>
          <div id="doc-patient-view" class="doc-view hidden"></div>
        </section>
      </div>
    </section>

<section id="about" class="card hidden">
  <div class="about-grid">
    <div class="about-copy">
      <span class="eyebrow" data-i18n="about.eyebrow">Why OMFS, PGIMER</span>
      <h3 data-i18n="about.heading">Care continuity designed for specialists</h3>
      <p data-i18n-html="about.lead">OMFS, PGIMER is the follow-up program of the Oral &amp; Maxillofacial Surgery team at <strong>PGIMER, Chandigarh</strong>, offering doctors and patients a structured, secure channel for long-term care.</p>
      <div class="about-highlights">
        <article class="about-card">
          <h4 data-i18n="about.card1.title">Specialist workflow ready</h4>
          <p data-i18n="about.card1.body">Role-based dashboards keep treatment timelines, feedback, and clinical notes aligned for every follow-up visit.</p>
        </article>
        <article class="about-card">
          <h4 data-i18n="about.card2.title">Secure, cloud-native foundation</h4>
          <p data-i18n="about.card2.body">Built on Supabase authentication, row-level security rules, and encrypted storage so teams can scale with confidence.</p>
        </article>
        <article class="about-card">
          <h4 data-i18n="about.card3.title">Patient-first communication</h4>
          <p data-i18n="about.card3.body">Patients share status updates, history, and visuals, while doctors respond with structured guidance in one timeline.</p>
        </article>
      </div>
      <div class="about-metrics">
        <div class="about-metric">
          <span class="metric-value" data-i18n="about.metric1.value">Real-time</span>
          <span class="metric-label" data-i18n="about.metric1.label">Data sync and file sharing without redeployments.</span>
        </div>
        <div class="about-metric">
          <span class="metric-value" data-i18n="about.metric2.value">AI-ready</span>
          <span class="metric-label" data-i18n="about.metric2.label">Planned multilingual virtual assistant for patients &amp; clinicians.</span>
        </div>
      </div>
      <div class="about-actions">
        <a href="#auth-section" class="btn primary" id="about-login" data-i18n="about.loginCta">Login</a>
        <a href="#hero-section" class="btn ghost" data-i18n="about.backCta">Back to overview</a>
      </div>
    </div>
    <div class="about-visual">
      <img src="assets/images/about-clinconnect.png" alt="OMFS, PGIMER collaboration flow diagram"/>
    </div>
  </div>
</section>

<section id="resources" class="card hidden">
  <div class="resources-header">
    <span class="eyebrow" data-i18n="resources.eyebrow">Resource Library</span>
    <h3 data-i18n="resources.heading">Expert guidance for every stage of recovery</h3>
    <p class="muted" data-i18n="resources.lead">Share these articles with patients and colleagues to keep everyone aligned on expectations and escalation steps.</p>
  </div>
  <div class="resources-grid">
    <article class="resource-article" id="resource-post-op">
      <h4 data-i18n="resources.postOp.title">Post-operative care checklist</h4>
      <p data-i18n="resources.postOp.body">Ensure every patient leaves with clear instructions covering hygiene, diet, activity, and warning signs. Use this checklist to reinforce discharge conversations.</p>
      <ol>
        <li data-i18n="resources.postOp.item1">Protect the surgical site: gentle rinses, no straws, no smoking.</li>
        <li data-i18n="resources.postOp.item2">Nutrition plan: soft foods, hydration goals, supplements if prescribed.</li>
        <li data-i18n="resources.postOp.item3">Medication schedule: antibiotics, anti-inflammatories, analgesics, and when to escalate.</li>
        <li data-i18n="resources.postOp.item4">Daily photo log: request before/after images to track healing progress.</li>
        <li data-i18n="resources.postOp.item5">Follow-up reminder: confirm next appointment and provide contact contingency.</li>
      </ol>
    </article>
    <article class="resource-article" id="resource-pain">
      <h4 data-i18n="resources.pain.title">Pain management tips</h4>
      <p data-i18n="resources.pain.body">Help patients differentiate expected soreness from complications and understand how to use their prescriptions responsibly.</p>
      <ul>
        <li>
          <strong data-i18n="resources.pain.item1Lead">Baseline discomfort:</strong>
          <span data-i18n="resources.pain.item1Body">educate that throbbing in first 48 hours is typical; ice alternating with rest helps.</span>
        </li>
        <li>
          <strong data-i18n="resources.pain.item2Lead">Medication spacing:</strong>
          <span data-i18n="resources.pain.item2Body">stagger NSAIDs and prescribed analgesics to maintain consistent coverage.</span>
        </li>
        <li>
          <strong data-i18n="resources.pain.item3Lead">Adjunct support:</strong>
          <span data-i18n="resources.pain.item3Body">highlight sleep, hydration, and mindfulness techniques to reduce stress-driven pain.</span>
        </li>
        <li>
          <strong data-i18n="resources.pain.item4Lead">Red flags:</strong>
          <span data-i18n="resources.pain.item4Body">uncontrolled pain beyond 72 hours, sudden spikes, or medication intolerance requires immediate outreach.</span>
        </li>
        <li>
          <strong data-i18n="resources.pain.item5Lead">Documentation:</strong>
          <span data-i18n="resources.pain.item5Body">encourage patients to log doses and pain scores to share during reviews.</span>
        </li>
      </ul>
    </article>
    <article class="resource-article" id="resource-emergency">
      <h4 data-i18n="resources.emergency.title">Emergency guidance</h4>
      <p data-i18n="resources.emergency.body">Define when patients should bypass asynchronous updates and call the care team or emergency services.</p>
      <div class="emergency-panel">
        <h5 data-i18n="resources.emergency.panelHeading">Contact the clinic immediately if:</h5>
        <ul>
          <li data-i18n="resources.emergency.item1">Bleeding persists longer than 20 minutes despite pressure.</li>
          <li data-i18n="resources.emergency.item2">Facial swelling doubles in size overnight or obstructs breathing.</li>
          <li data-i18n="resources.emergency.item3">Fever exceeds 101°F (38.3°C) or chills accompany incision changes.</li>
          <li data-i18n="resources.emergency.item4">Neurological symptoms emerge: numbness, vision changes, difficulty speaking.</li>
        </ul>
        <p class="muted small" data-i18n="resources.emergency.footer">In life-threatening scenarios (airway compromise, loss of consciousness), call local emergency services first before contacting the clinic.</p>
      </div>
    </article>
  </div>
</section>

        </main>
        <footer class="app-footer">
          <div class="app-footer-inner">
            <small>© <span id="year"></span> OMFS, PGIMER · Navavidha Kale and Pulkit Joshi</small>
          </div>
        </footer>
      </div>
    </div>
    <nav class="app-tab-bar" id="top-nav" aria-label="Primary">
      <a href="#" id="nav-home" class="app-tab-link active">
        <svg class="ico" aria-hidden="true"><use href="#icon-home"/></svg>
        <span data-i18n="nav.home">Home</span>
      </a>
      <a href="#" id="nav-about" class="app-tab-link">
        <svg class="ico" aria-hidden="true"><use href="#icon-info"/></svg>
        <span data-i18n="nav.about">About</span>
      </a>
      <a href="#" id="nav-resources" class="app-tab-link">
        <svg class="ico" aria-hidden="true"><use href="#icon-book"/></svg>
        <span data-i18n="nav.resources">Resources</span>
      </a>
    </nav>
  </div>

  <!-- Config with your Supabase keys (edit js/config.js) -->
  <script src="js/config.js"></script>
  <!-- Language packs -->
  <script src="js/lang/main_en.js"></script>
  <script src="js/lang/main_hi.js"></script>
  <script src="js/lang/main_pa.js"></script>
  <!-- App -->
  <script type="module" src="js/main.js"></script>

  <script src="js/pwa.js"></script>
  <script src="js/media.js"></script>
  <script src="js/checkins.js"></script>

</body>
</html>
